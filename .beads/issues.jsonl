{"id":"tr-52u","title":"We only do multilangauge translation now so we can get rid of the single-language stuff (prompts, functions, etc) and rename what's left to get rid of the 'multi*' prefixes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T15:30:05.018283+01:00","updated_at":"2026-01-18T15:35:27.892558+01:00","closed_at":"2026-01-18T15:35:27.892558+01:00","close_reason":"Closed","comments":[{"id":3,"issue_id":"tr-52u","author":"Herb Caudill","text":"## Summary of Changes\n\nRemoved unused single-language translation code and simplified the API by renaming the multi-language functions:\n\n### Files Changed:\n- **src/lib/prompts.ts**: Removed `SYSTEM_PROMPT` (single-language), renamed `MULTI_LANGUAGE_SYSTEM_PROMPT` to `SYSTEM_PROMPT`\n- **src/lib/anthropic.ts**: Removed `translate()` function, `TranslationResult` type, and related code; renamed `translateAll()` to `translate()`, `MultiTranslationResult` to `TranslationResult`\n- **src/lib/anthropic.test.ts**: Removed single-language translation tests (11 tests), updated remaining tests to use `translate()`\n- **src/hooks/useTranslation.ts**: Updated import from `translateAll` to `translate`\n- **src/hooks/useTranslation.test.ts**: Updated mock and references from `translateAll` to `translate`\n- **src/App.test.tsx**: Updated mock and references from `translateAll` to `translate`\n- **CLAUDE.md**: Updated documentation to reference `translate()` instead of `translateAll()`\n\n### Net Result:\n- Removed ~315 lines of code\n- Reduced test count from 199 to 188 (removed 11 single-language tests)\n- Cleaner, simpler API with `translate()` for multi-language translation","created_at":"2026-01-18T14:35:23Z"}]}
{"id":"tr-6f9","title":"Add sourceLanguageHint parameter and return alternateSources from translate function","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T18:11:36.860629+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:33:17.000441+01:00","closed_at":"2026-01-18T18:33:17.000441+01:00","close_reason":"Closed","dependencies":[{"issue_id":"tr-6f9","depends_on_id":"tr-kru","type":"blocks","created_at":"2026-01-18T18:11:49.528417+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-6f9","depends_on_id":"tr-bpo","type":"blocks","created_at":"2026-01-18T18:11:49.603658+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-6f9","depends_on_id":"tr-ytk","type":"parent-child","created_at":"2026-01-18T18:12:09.59909+01:00","created_by":"Herb Caudill"}],"comments":[{"id":12,"issue_id":"tr-6f9","author":"Herb Caudill","text":"This task was already completed in commit 0cb3b1f. The implementation includes:\n\n- `sourceLanguageHint` optional parameter added to `TranslateOptions` in `src/lib/anthropic.ts`\n- System prompt template processing to include the source language hint when provided\n- `alternateSources` field returned from the `translate` function\n- Tests for `sourceLanguageHint` inclusion in system prompt\n- Tests for `alternateSources` being returned from API\n\nAll tests pass.","created_at":"2026-01-18T17:33:13Z"}]}
{"id":"tr-93x","title":"Test failures: TranslationResult and TranslationOutput components","description":"## Summary\n7 tests are failing in 3 test files related to translation output components.\n\n## Failing Tests\n\n### 1. `src/components/TranslationResult.test.tsx`\n- **TranslationResult \u003e renders the saved translation icon** - Unable to find element with accessible name \"Translation saved\"\n\n### 2. `src/components/TranslationOutput.test.tsx` (5 failures)\n- **TranslationOutput \u003e displays translations when provided** - Expected \"hola\" text to be present but it wasn't found\n- **TranslationOutput \u003e shows audio button for translations** - Unable to find element with accessible name matching /Play audio for/\n- **TranslationOutput \u003e shows no audio button when audio playback is disabled** - Unable to find element with accessible name matching /Play audio for/\n- **TranslationOutput \u003e does not show translate button when aiPromptRunner is null** - Unable to find element with role \"tab\"\n- **TranslationOutput \u003e shows the audio button for a specific phrase** - Unable to find element with accessible name matching /Play audio for/\n\n### 3. `src/App.test.tsx`\n- **App \u003e shows saved indicator when translation is saved** - Expected \"Save translation\" text to be present but found \"Unsave translation\" instead\n\n## Root Cause Analysis\nThe test failures suggest a mismatch between the expected component structure/text in tests vs actual implementation:\n1. Translation saved/unsaved icon accessibility labels may have changed\n2. TranslationOutput component structure may have changed - tests expect certain elements that are not present\n3. Audio button accessibility names may have changed\n\n## Recommended Fix\nReview and update the failing tests to match the current component implementations, or fix the components if the current behavior is unintended.","status":"tombstone","priority":1,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-01-18T14:55:30.765442+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T15:02:20.895342+01:00","deleted_at":"2026-01-18T15:02:20.895342+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"bug"}
{"id":"tr-9cw","title":"Test failures in TranslationResults.test.tsx","description":"## Summary\nThere are 7 failing tests in the test suite related to `TranslationResults.test.tsx`.\n\n## Root Cause\nThe tests expect the source language tab (e.g., \"English\") to be rendered and disabled in the tab list, but the component currently filters out the source language entirely from the displayed tabs:\n\n```tsx\n// TranslationResults.tsx line 31\nconst selectableLanguages = languages.filter(l =\u003e l.code !== sourceLanguage)\n```\n\n## Failing Tests\n1. **renders all language tabs including source language** - Expects English tab to exist, but it's filtered out\n2. **disables source language tab** - Expects English tab to be disabled, but it doesn't exist  \n3. **shows selected tab content** - Fails because tab state assertions don't work as expected\n4. **calls onTabChange when clicking different tab** - Fails due to tab structure mismatch\n5. **applies mono font to translation text** - Fails because text isn't found\n6. **uses flex layout to fill available vertical space for swipe target** - Fails due to DOM structure mismatch\n7. **renders three skeleton option placeholders when loading** - Expects 6 skeletons but component renders differently\n\n## Decision Needed\nEither:\n1. **Update the tests** to match the current component behavior (source language tab is not shown)\n2. **Update the component** to show the source language tab but keep it disabled (as the tests expect)\n\n## Test Output\n```\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e renders all language tabs including source language\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e disables source language tab\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e shows selected tab content\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e calls onTabChange when clicking different tab\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e applies mono font to translation text\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e uses flex layout to fill available vertical space for swipe target\n✗ src/components/TranslationResults.test.tsx \u003e TranslationResults \u003e renders three skeleton option placeholders when loading\n```","status":"closed","priority":1,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T15:12:27.358386+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T15:14:46.827345+01:00","closed_at":"2026-01-18T15:14:46.827345+01:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"tr-9cw","author":"Herb Caudill","text":"## Summary\n\nFixed 7 failing tests across 3 components:\n\n### TranslationResults.tsx\n- Changed from filtering out the source language tab to showing it as a disabled tab\n- Tests expected the source language to be visible but not clickable\n\n### SettingsDialog.tsx  \n- Updated dialog title from \"Languages\" to \"Settings\"\n- Added DialogDescription: \"Configure your translation preferences.\"\n- Added \"Target languages\" heading for the language list section\n\n### TranslateInput.tsx\n- Fixed race condition in `handleFocus` where `requestAnimationFrame(() =\u003e input.select())` would interfere with typing\n- Added check to only select text if the input value hasn't changed since focus began\n- This was causing tests to receive partial text (e.g., \"llo\" instead of \"hello\")\n\nAll 199 tests now pass.","created_at":"2026-01-18T14:14:42Z"}]}
{"id":"tr-9yz","title":"this is a test","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:27:03.859413+01:00","updated_at":"2026-01-18T18:32:24.109965+01:00","closed_at":"2026-01-18T18:32:24.109965+01:00","close_reason":"Closed"}
{"id":"tr-ad2","title":"make the source language text smaller","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T15:31:45.228466+01:00","updated_at":"2026-01-18T15:45:41.984017+01:00","closed_at":"2026-01-18T15:45:41.984017+01:00","close_reason":"Closed","comments":[{"id":4,"issue_id":"tr-ad2","author":"Herb Caudill","text":"Changed the 'Translated from X' banner text from `text-sm` to `text-xs` in `TranslationResults.tsx` to make it more subtle and less visually prominent.","created_at":"2026-01-18T14:45:38Z"}]}
{"id":"tr-ap7","title":"Update useTranslation hook to expose source and alternateSources","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T18:11:38.632065+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:35:53.304405+01:00","closed_at":"2026-01-18T18:35:53.304405+01:00","close_reason":"Closed","dependencies":[{"issue_id":"tr-ap7","depends_on_id":"tr-6f9","type":"blocks","created_at":"2026-01-18T18:11:50.960353+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-ap7","depends_on_id":"tr-bpo","type":"blocks","created_at":"2026-01-18T18:11:51.037144+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-ap7","depends_on_id":"tr-ytk","type":"parent-child","created_at":"2026-01-18T18:12:09.7501+01:00","created_by":"Herb Caudill"}],"comments":[{"id":13,"issue_id":"tr-ap7","author":"Herb Caudill","text":"## Summary\n\nUpdated the `useTranslation` hook to fully expose source language information:\n\n### Changes made:\n- **`source`**: The detected source language is now exposed in the hook's return value\n- **`alternateSources`**: Alternative possible source languages (when available) are now exposed\n- **`sourceLanguageHint` parameter**: The `translate()` function now accepts an optional second parameter to specify which language to treat as the source (enables re-translation with alternate sources)\n- Both `source` and `alternateSources` are properly reset when `reset()` is called\n\n### Tests added:\n- Verify `source` and `alternateSources` are undefined initially\n- Verify `source` is exposed after successful translation\n- Verify `alternateSources` is exposed when API returns them\n- Verify `alternateSources` is undefined when API doesn't return them\n- Verify both are reset with `reset()`\n- Verify `sourceLanguageHint` is passed to the API when provided\n\nAll 200 tests pass, build succeeds.","created_at":"2026-01-18T17:35:49Z"}]}
{"id":"tr-bpo","title":"Add source and alternateSources to TranslationResult and HistoryEntry types","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T18:11:37.869235+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:26:48.463284+01:00","closed_at":"2026-01-18T18:26:48.463284+01:00","close_reason":"Closed","dependencies":[{"issue_id":"tr-bpo","depends_on_id":"tr-ytk","type":"parent-child","created_at":"2026-01-18T18:12:09.676626+01:00","created_by":"Herb Caudill"}],"comments":[{"id":10,"issue_id":"tr-bpo","author":"Herb Caudill","text":"## Completed\n\nThe `source` and `alternateSources` fields were already added to the types in a previous commit. This task added comprehensive test coverage to verify these fields flow correctly through the system:\n\n### Changes\n- **src/lib/anthropic.test.ts**: Added test verifying `alternateSources` is returned when provided by the API\n- **src/hooks/useHistory.test.ts**: \n  - Enhanced `createMockTranslation` helper to support `source` and `alternateSources` options\n  - Added test verifying these fields are preserved in history entries\n  - Added test verifying persistence to localStorage\n- **src/lib/storage.test.ts**: Added test verifying history entries with `alternateSources` are properly stored and retrieved\n\n### Verification\n- All 193 tests pass\n- TypeScript compilation passes\n- Build succeeds","created_at":"2026-01-18T17:26:45Z"}]}
{"id":"tr-chp","title":"Wire up alternate source selection in App.tsx","status":"in_progress","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T18:11:40.502304+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:39:00.041009+01:00","dependencies":[{"issue_id":"tr-chp","depends_on_id":"tr-ap7","type":"blocks","created_at":"2026-01-18T18:11:53.033834+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-chp","depends_on_id":"tr-wxh","type":"blocks","created_at":"2026-01-18T18:11:53.106956+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-chp","depends_on_id":"tr-ytk","type":"parent-child","created_at":"2026-01-18T18:12:09.905682+01:00","created_by":"Herb Caudill"}],"comments":[{"id":15,"issue_id":"tr-chp","author":"Herb Caudill","text":"## Summary\n\nWired up the alternate source selection feature in App.tsx to complete the alternate source language selection epic.\n\n### Changes\n\n- Added `displayAlternateSources` computed value that sources from either the selected history entry's translation or the live translation state\n- Added `handleAlternateSourceSelect` callback that:\n  - Clears the selected history entry (since we're doing a fresh translation)\n  - Resets the saved ref so the new translation gets saved to history\n  - Calls `translate()` with the selected language code as `sourceLanguageHint`\n- Passed `alternateSources` and `onAlternateSourceSelect` props to `TranslationResults` component\n\n### Tests Added\n\nAdded 3 new tests in `App.test.tsx`:\n1. Shows alternate source buttons when translation has alternateSources\n2. Re-translates with sourceLanguageHint when alternate source is clicked\n3. Shows alternate sources from history entry\n\nAll 211 tests passing.","created_at":"2026-01-18T17:41:00Z"}]}
{"id":"tr-e1l","title":"when typing or loading the tabs should not be visible","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T16:24:49.735126+01:00","updated_at":"2026-01-18T16:28:21.022099+01:00","closed_at":"2026-01-18T16:28:21.022099+01:00","close_reason":"Closed","comments":[{"id":8,"issue_id":"tr-e1l","author":"Herb Caudill","text":"## Summary\n\nAdded an `isTyping` prop to the `TranslationResults` component that hides the language tabs and 'Translated from' banner when the user is typing new text, showing a skeleton placeholder instead.\n\n### Changes:\n\n- **App.tsx**: Added `isTyping` computed value using `useMemo` that detects when the input text differs from the currently displayed results' source\n- **TranslationResults.tsx**: Added `isTyping` prop and updated conditional rendering to hide tabs/banner and show skeleton when typing\n- **TranslationResults.test.tsx**: Added tests for the new `isTyping` behavior\n\n### How it works:\n- `isTyping` is true when:\n  1. Input text is non-empty\n  2. Not currently translating\n  3. Input differs from either the selected history entry's input OR the last translated text\n- When `isTyping` is true, the component shows a skeleton loading state instead of stale results","created_at":"2026-01-18T15:28:17Z"}]}
{"id":"tr-kru","title":"Update system prompt to populate alternateSources and handle sourceLanguageHint","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T18:11:35.840926+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:31:55.442463+01:00","closed_at":"2026-01-18T18:31:55.442463+01:00","close_reason":"Closed","dependencies":[{"issue_id":"tr-kru","depends_on_id":"tr-ytk","type":"parent-child","created_at":"2026-01-18T18:12:09.521707+01:00","created_by":"Herb Caudill"}],"comments":[{"id":11,"issue_id":"tr-kru","author":"Herb Caudill","text":"## Changes\n\n- Updated `translate` function signature to use an options object: `{ apiKey, text, languages, sourceLanguageHint? }`\n- Updated system prompt (`src/lib/system-prompt.md`):\n  - Added explicit instructions for populating `alternateSources` when input could be valid in multiple languages\n  - Added conditional `sourceLanguageHint` block that instructs the model to use the hinted language as the source\n- Added new tests for `sourceLanguageHint` functionality\n- Updated all call sites and tests to use the new function signature\n\nThe system prompt now clearly instructs the model to:\n1. Use the `sourceLanguageHint` as the source language when provided\n2. Populate `alternateSources` with other languages from the target list where the input is valid","created_at":"2026-01-18T17:31:51Z"}]}
{"id":"tr-n18","title":"don't show the source language at all in the list of tabs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T16:26:55.561662+01:00","updated_at":"2026-01-18T16:59:56.825142+01:00","closed_at":"2026-01-18T16:59:56.825142+01:00","close_reason":"Closed","comments":[{"id":9,"issue_id":"tr-n18","author":"Herb Caudill","text":"## Changes Made\n\n- Updated `TranslationResults.tsx` to filter out the source language from the tab list entirely instead of showing it as a disabled tab\n- Renamed `selectableLanguages` to `displayLanguages` for clarity since it's now used for both tab display and swipe navigation  \n- Updated tests to verify the source language tab is not rendered at all (removed the old \"disables source language tab\" test)\n\nThe source language is still shown in the \"Translated from\" banner, so users still know which language was detected.","created_at":"2026-01-18T15:59:51Z"}]}
{"id":"tr-phk","title":"the source language header should fill the full width of the screen","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T15:33:21.97033+01:00","updated_at":"2026-01-18T15:51:11.396176+01:00","closed_at":"2026-01-18T15:51:11.396176+01:00","close_reason":"Closed","comments":[{"id":5,"issue_id":"tr-phk","author":"Herb Caudill","text":"## Changes Made\n\nRestructured the layout to make the \"Translated from\" source language banner span the full screen width:\n\n- Moved `TranslationResults` component out of the constrained `max-w-2xl` container in `App.tsx`\n- Updated `TranslationResults.tsx` to:\n  - Make the source language banner a full-width element with its own internal max-width constraint for content alignment\n  - Added a new inner container for the tabs and translation content that maintains the `max-w-2xl` constraint\n\nThe banner now extends edge-to-edge while the content below (tabs, translations) remains centered and constrained to the same max width as the header.","created_at":"2026-01-18T14:51:07Z"}]}
{"id":"tr-rrf","title":"add same padding to source language div that is used in the rest of the app","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T16:22:32.159918+01:00","updated_at":"2026-01-18T16:24:46.647565+01:00","closed_at":"2026-01-18T16:24:46.647565+01:00","close_reason":"Closed","comments":[{"id":7,"issue_id":"tr-rrf","author":"Herb Caudill","text":"## Summary\n\nMoved the padding classes (`px-4 py-1.5 sm:px-6`) from the outer full-width container to the inner `max-w-2xl` container in the \"Translated from\" banner.\n\n### Change\n- **Before**: Padding was on the outer div, content was centered within\n- **After**: Padding is on the inner `max-w-2xl` div, matching the pattern used by the main content area below\n\nThis ensures the source language banner text aligns horizontally with the tabs and translation content below it on all screen sizes.","created_at":"2026-01-18T15:24:43Z"}]}
{"id":"tr-s8y","title":"this is a test","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-18T18:26:09.454584+01:00","updated_at":"2026-01-18T18:26:27.317957+01:00","deleted_at":"2026-01-18T18:26:27.317957+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"tr-t6t","title":"store the prompt in markdown for legibility","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T15:35:28.528963+01:00","updated_at":"2026-01-18T16:05:27.541438+01:00","closed_at":"2026-01-18T16:05:27.541438+01:00","close_reason":"Closed","comments":[{"id":6,"issue_id":"tr-t6t","author":"Herb Caudill","text":"## Summary\n\nMoved the system prompt from an inline template string in `prompts.ts` to a separate Markdown file (`system-prompt.md`) for better legibility.\n\n### Changes\n- Created `src/lib/system-prompt.md` containing the prompt content\n- Updated `src/lib/prompts.ts` to import the markdown file using Vite's `?raw` suffix\n- The `SYSTEM_PROMPT` export remains unchanged for consumers\n\n### Benefits\n- Better syntax highlighting when editing the prompt\n- Easier to read and maintain\n- Markdown format makes the JSON example more readable","created_at":"2026-01-18T15:05:23Z"}]}
{"id":"tr-t86","title":"Test failures in TranslationPanel, TranslateInput, and App tests","description":"## Test Failures Summary\n\nThere are 7 failing tests across 3 test files:\n\n### 1. src/components/TranslationPanel.test.tsx (3 failures)\n\n**Test: \"shows definition and pronunciation when translation is selected and showDetails is true\"**\n- Expected: `/hello/` (phonetic pronunciation)\n- Received: Element not found\n- The test expects a pronunciation element to be visible when showDetails is true, but it's not rendered\n\n**Test: \"clicking a translation should update the value in the input\"** \n- Expected: Input value to be \"hola\" after clicking translation\n- Received: Input value is still \"hello\"\n- The click handler is not properly updating the input value\n\n**Test: \"clicking search button for selected translation calls onSearch\"**\n- Expected: onSearch to be called once\n- Received: Not called\n- The search button click handler is not working\n\n### 2. src/components/TranslateInput.test.tsx (2 failures)\n\n**Test: \"shows clear button when value is non-empty and not loading\"**\n- Expected: Clear button to be visible\n- Received: Button not found with name \"Clear input\"\n- The clear button is not being rendered when it should be\n\n**Test: \"calls onClear when clear button is clicked\"**\n- Expected: onClear to be called when clear button is clicked  \n- Received: Button not found\n- Same issue - clear button not rendered\n\n### 3. src/App.test.tsx (2 failures)\n\n**Test: \"displays translation results for all languages\"**\n- Expected: \"hola\" to be visible in results\n- Received: Only language tabs shown, no translation content\n- The translation results are not being rendered properly\n\n**Test: \"maintains previous translations while loading new ones\"**\n- Expected: \"hola\" to be visible during loading\n- Received: Only shows tabs, no content\n- Same rendering issue with translation results\n\n## Root Causes to Investigate\n\n1. TranslateInput clear button rendering logic\n2. TranslationPanel click handlers and showDetails conditional rendering\n3. App component translation results display","status":"tombstone","priority":1,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T14:49:06.662215+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T15:11:39.429378+01:00","deleted_at":"2026-01-18T15:11:39.429378+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"tr-vyo","title":"The 'Translated from...' div should have no rounding or margin-top, so it should abut the dark blue header. and it should extend across the screen's width. and the text should be black except for the button which should be gray. the name of the language should be bold, not italic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T14:50:46.340723+01:00","updated_at":"2026-01-18T15:27:29.169936+01:00","closed_at":"2026-01-18T15:27:29.169936+01:00","close_reason":"Closed","comments":[{"id":2,"issue_id":"tr-vyo","author":"Herb Caudill","text":"## Summary\n\nUpdated the 'Translated from' banner styling in `TranslationResults.tsx`:\n\n- **Full width**: Added negative margins (`-mx-4 sm:-mx-6`) to break out of the parent container and extend full width\n- **No rounding**: Removed `rounded-md` class\n- **Abuts header**: Added `-mt-4 sm:-mt-6` to remove top margin and make it flush with the header\n- **Text colors**: Changed main text from `text-blue-700` to `text-black`, and button from `text-blue-600` to `text-gray-500`\n- **Language name**: Changed from `font-medium italic` to `font-bold` (bold, not italic)\n\nAll tests pass.","created_at":"2026-01-18T14:27:25Z"}]}
{"id":"tr-wxh","title":"Add alternate source language buttons to TranslationResults banner","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T18:11:39.67223+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:38:33.749821+01:00","closed_at":"2026-01-18T18:38:33.749821+01:00","close_reason":"Closed","dependencies":[{"issue_id":"tr-wxh","depends_on_id":"tr-bpo","type":"blocks","created_at":"2026-01-18T18:11:52.008632+01:00","created_by":"Herb Caudill"},{"issue_id":"tr-wxh","depends_on_id":"tr-ytk","type":"parent-child","created_at":"2026-01-18T18:12:09.828516+01:00","created_by":"Herb Caudill"}],"comments":[{"id":14,"issue_id":"tr-wxh","author":"Herb Caudill","text":"## Changes\n\nAdded alternate source language buttons to the `TranslationResults` banner:\n\n### New Props\n- `alternateSources?: string[]` - array of alternative source language codes\n- `onAlternateSourceSelect?: (languageCode: string) =\u003e void` - callback when user clicks an alternate source button\n\n### UI Changes\n- When `alternateSources` is provided and not empty, displays:\n  - A \"·\" separator after the source language name\n  - \"Not right?\" prompt text\n  - Clickable buttons for each alternate source language\n- Buttons are styled as ghost buttons with blue text, matching the banner aesthetic\n- Buttons have proper aria-labels for accessibility\n\n### Tests Added (8 new tests)\n- Does not show buttons when `alternateSources` not provided\n- Does not show buttons when `alternateSources` is empty\n- Does not show buttons when `onAlternateSourceSelect` not provided\n- Shows buttons when both props provided\n- Calls callback with correct language code on click\n- Falls back to language code when name not in languages list\n- Hides buttons when `isLoading` is true\n- Hides buttons when `isTyping` is true","created_at":"2026-01-18T17:38:30Z"}]}
{"id":"tr-ytk","title":"Alternate source language selection","description":"Allow users to select alternate source languages when a word could be from multiple languages","status":"open","priority":2,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-18T18:12:03.673608+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T18:12:03.673608+01:00"}
